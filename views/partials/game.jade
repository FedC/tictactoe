section.app-content

  aside.aside

    div.game-info(ng-class="{show: currentGame.name}")

      p 
        label {{capitalize(currentGame.name)}}

      small Started {{moment(currentGame.started_at)}}

    div.player(ng-class="{selected: currentGame.turn === currentUser.id, show: currentUser}") 

      p 
        span You:
        label(ng-data-sign='{{currentUser.sign}}') {{currentUser.sign}}

    div.player(ng-class="{selected: currentGame.turn !== currentUser.id, show: opponentSign}") 

      p
        span Opponent:
        label(ng-data-sign='{{opponentSign}}') {{opponentSign}}

  section.game-container

    div.message

      span(ng-if="currentGame.state === 'over'")

        label(ng-if="currentGame.result === 'tie'") It's a tie!
        label(ng-if="currentGame.result !== 'tie'") You {{currentGame.result}}!

      span(ng-if="currentGame.state === 'started'")

        label(ng-if='currentGame.turn === currentUser.id') Your turn

        label(ng-if='currentGame.turn === opponentId') Opponent's turn

      label(ng-if="currentGame.state === 'waiting'") Waiting for players

    div.game
      div.slab(ng-click='makeMove(0,0)' ng-data-move="{{moves['0,0']}}" ng-class="{empty: moves['0,0'] === undefined, winner: isWinner('0,0')}")
        span {{moves['0,0']}}
      div.slab(ng-click='makeMove(1,0)' ng-data-move="{{moves['1,0']}}" ng-class="{empty: moves['1,0'] === undefined, winner: isWinner('1,0')}")
        span {{moves['1,0']}}
      div.slab(ng-click='makeMove(2,0)' ng-data-move="{{moves['2,0']}}" ng-class="{empty: moves['2,0'] === undefined, winner: isWinner('2,0')}")
        span {{moves['2,0']}}
      div.slab(ng-click='makeMove(0,1)' ng-data-move="{{moves['0,1']}}" ng-class="{empty: moves['0,1'] === undefined, winner: isWinner('0,1')}")
        span {{moves['0,1']}}
      div.slab(ng-click='makeMove(1,1)' ng-data-move="{{moves['1,1']}}" ng-class="{empty: moves['1,1'] === undefined, winner: isWinner('1,1')}")
        span {{moves['1,1']}}
      div.slab(ng-click='makeMove(2,1)' ng-data-move="{{moves['2,1']}}" ng-class="{empty: moves['2,1'] === undefined, winner: isWinner('2,1')}")
        span {{moves['2,1']}}
      div.slab(ng-click='makeMove(0,2)' ng-data-move="{{moves['0,2']}}" ng-class="{empty: moves['0,2'] === undefined, winner: isWinner('0,2')}")
        span {{moves['0,2']}}
      div.slab(ng-click='makeMove(1,2)' ng-data-move="{{moves['1,2']}}" ng-class="{empty: moves['1,2'] === undefined, winner: isWinner('1,2')}")
        span {{moves['1,2']}}
      div.slab(ng-click='makeMove(2,2)' ng-data-move="{{moves['2,2']}}" ng-class="{empty: moves['2,2'] === undefined, winner: isWinner('2,2')}")
        span {{moves['2,2']}}